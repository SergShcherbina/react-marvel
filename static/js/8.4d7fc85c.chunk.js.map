{"version":3,"sources":["components/errorMessage/error.gif","components/errorMessage/ErrorMessage.js","services/MarvelServices.js","components/hooks/useHttp.js","components/errorBoundary/ErrorBoundary.js","resources/img/Avengers.png","resources/img/Avengers_logo.png","components/appBanner/AppBanner.js","components/comicsList/ComicsList.js","components/pages/ComicPage.js"],"names":["ErrorMessage","src","alt","style","display","margin","useMarvelService","_apiBase","_apiKey","useState","process","setProcess","request","useCallback","url","a","method","body","headers","fetch","response","ok","Error","status","json","data","clearError","useHttp","getAllCharacters","offset","res","results","map","_trensformCharacter","getCharacter","id","searchCharacter","name","char","description","thumbnail","path","extension","homepage","wiki","comics","items","getAllComics","_trensformComics","getComic","title","images","prices","price","usl","resourceURI","pageCount","language","textObjects","ErrorBoundary","state","error","errorInfo","console","log","this","setState","props","children","Component","AppBanner","className","avengers","avengersLogo","setContent","newItemLoading","Spinner","ComicsList","setComics","setOffset","setNewItemLoading","comicsEnded","setComicsEnded","updateComicsList","then","newComics","length","useEffect","comicses","comicsList","item","i","CSSTransition","classNames","timeout","to","TransitionGroup","component","renderComics","onClick","onRequest","disabled","ComicsPage","Helmet","content"],"mappings":"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","file":"static/js/8.4d7fc85c.chunk.js","sourcesContent":["export default \"data:image/gif;base64,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\"","import errorGif from './error.gif'\r\n\r\nconst ErrorMessage = () => {\r\n    return (\r\n        <img src={errorGif} alt=\"error\" style={{display: 'block', margin: '0 auto'}} />\r\n\r\n        //<img src={process.env.PUBLIC_URL + '/error.gif'} alt=\"error\" />   //если используем файл из папки public\r\n    )\r\n}\r\n\r\nexport default ErrorMessage;","import { useHttp } from \"../components/hooks/useHttp\";\r\n\r\n\r\nconst useMarvelService = () => {\r\n    const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n    const _apiKey = 'apikey=e085346ae8f6005895c9c698543ab5ab';\r\n    const _baseOffset = 210 \r\n    const {request, clearError, process, setProcess} = useHttp();             //получаем из хука обьект с методами     \r\n    \r\n    const getAllCharacters = async (offset = _baseOffset) => {           //если аргумент не передается, то используем _baseOffset\r\n        const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\r\n        return res.data.results.map(_trensformCharacter);                //или .map(item => this._trensformCharacter(item))   \r\n    };\r\n\r\n    const getCharacter = async(id) => {\r\n        const res  = await request(`${_apiBase}characters/${id}?${_apiKey}`);\r\n        return _trensformCharacter(res.data.results[0])\r\n    };\r\n    const searchCharacter = async(name) => {                             //поиск персонажа по имени\r\n        const res  = await request(`${_apiBase}characters?name=${name}&${_apiKey}`);\r\n        return res.data.results.map(_trensformCharacter) \r\n    };\r\n    const _trensformCharacter = (char) => {\r\n        return {\r\n            name: char.name,\r\n            description: char.description,\r\n            thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n            homepage: char.url,\r\n            wiki: char.url,\r\n            id: char.id,\r\n            comics: char.comics.items,\r\n        }\r\n    };\r\n    \r\n    const getAllComics = async (offset = 2) => {           \r\n        const res = await request(`${_apiBase}comics?limit=8&offset=${offset}&${_apiKey}`);\r\n        return res.data.results.map(_trensformComics);      \r\n    };\r\n\r\n    const getComic = async (id) => {\r\n        const res = await request(`${_apiBase}comics/${id}?${_apiKey}`);\r\n        return _trensformComics(res.data.results[0]);\r\n    }\r\n\r\n    const _trensformComics = (comics) => {\r\n        return {\r\n            title: comics.title,\r\n            images: comics.thumbnail.path+ '.' + comics.thumbnail.extension,\r\n            id: comics.id,\r\n            prices: comics.prices[0].price,\r\n            usl: comics.resourceURI,\r\n            pageCount: comics.pageCount ? `${comics.pageCount} p.` : 'No information about the number of pages',\r\n            description: comics.description || 'There is no description',\r\n            language: comics.textObjects.language || 'en-us',\r\n        }\r\n    };\r\n\r\n    return {getAllCharacters, \r\n            getCharacter, \r\n            clearError, \r\n            getAllComics, \r\n            getComic, \r\n            searchCharacter, \r\n            process, \r\n            setProcess};\r\n};\r\n\r\nexport default useMarvelService;","import { useState, useCallback } from \"react/cjs/react.development\";\r\n\r\n\r\nexport const useHttp = () => {\r\n    const [process, setProcess] = useState('waiting');\r\n\r\n    const request = useCallback ( async (url, method = 'GET', body = null, headers = {'Content-type': 'application/json'} ) => {\r\n        \r\n        setProcess('loading')                                            //процесс загрузки/ожидания\r\n\r\n        try{\r\n            const response = await fetch(url, {method, body, headers});\r\n\r\n            if(!response.ok){\r\n                throw new Error(`Cold not fetch ${url}, status ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            // setProcess('confirmed') подтвержденный, но здесь удаляем это состояние так как асинхронная операция будут ошибки\r\n            return data;            \r\n        } catch(e){\r\n            setProcess('error')                                           //ошибка в процессе\r\n            throw e;\r\n        }                        \r\n    }, []);\r\n\r\n    const clearError = useCallback(() => {\r\n        setProcess('loading')\r\n    }, []);  \r\n\r\n    return {request, clearError, process, setProcess}\r\n};","import { Component } from \"react/cjs/react.production.min\";\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\n\r\n\r\nclass ErrorBoundary extends Component {                        //классовай компонент отлавливающий ошибки\r\n\r\n    state = {\r\n        error: false\r\n    };\r\n\r\n    componentDidCatch(error, errorInfo) {                      //хук срабатывающий при ошибке\r\n        console.log(error, errorInfo);\r\n        this.setState({error: true})\r\n    };\r\n\r\n    render () {\r\n        if(this.state.error) {\r\n            return <ErrorMessage/>\r\n        };\r\n        \r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","export default __webpack_public_path__ + \"static/media/Avengers.4065c8f9.png\";","export default __webpack_public_path__ + \"static/media/Avengers_logo.9eaf2193.png\";","import './appBanner.scss';\r\nimport avengers from '../../resources/img/Avengers.png';\r\nimport avengersLogo from '../../resources/img/Avengers_logo.png';\r\n\r\nconst AppBanner = () => {\r\n    return (\r\n        <div className=\"app__banner\">\r\n            <img src={avengers} alt=\"Avengers\"/>\r\n            <div className=\"app__banner-text\">\r\n                New comics every week!<br/>\r\n                Stay tuned!\r\n            </div>\r\n            <img src={avengersLogo} alt=\"Avengers logo\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AppBanner;","import './comicsList.scss';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport useMarvelService from '../../services/MarvelServices';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\nimport Spinner from '../spinner/Spinner';\r\n\r\nconst setContent = (process, Component, newItemLoading) => {           //не импортируем а делаем кастомный из-за newItemLoading\r\n    switch (process) {\r\n        case 'waiting': return  <Spinner/>;\r\n            // break;\r\n        case 'loading': return newItemLoading ? <Component/> : <Spinner/>;\r\n            // break;\r\n        case 'confirmed': return <Component/>;\r\n            // break;\r\n        case 'error': return <ErrorMessage/>;\r\n            // break;\r\n        default :  throw new Error('Unexpected process state');\r\n    }\r\n}\r\n\r\nconst ComicsList = () => {\r\n    const [comics, setComics] = useState([]);                             //нач зн обязательно массив\r\n    const [offset, setOffset] = useState(0);                              //для отсчета количества комиксов передается в getAllComics\r\n    const [newItemLoading, setNewItemLoading] = useState(false);          //для контроля disabled кнопки загрузки новых комиксов\r\n    const [comicsEnded, setComicsEnded] = useState(false);                //для контроля display кнопки загрузки новых комиксов\r\n    const {process, setProcess, getAllComics} = useMarvelService();    \r\n\r\n    const onRequest = (offset) => {\r\n        setNewItemLoading(true);\r\n        updateComicsList(offset);\r\n    };\r\n\r\n    const onSetComics = (newComics) => {\r\n        if (newComics.length < 8 ){                                      //если длинна подгруженного массива < 8 \r\n            setComicsEnded(true)\r\n        }      \r\n        \r\n        setComics([...comics, ...newComics])                             //добавляем в массив комиксов новый массив \r\n        setOffset(offset => offset + 8);                                 //следующие 8 комиксов \r\n        setNewItemLoading(false);\r\n    }; \r\n\r\n    const updateComicsList = (offset) => {\r\n        getAllComics(offset)\r\n            .then(res => onSetComics(res))\r\n            .then(()=>setProcess('confirmed'))\r\n    };\r\n\r\n    useEffect(() => {\r\n        updateComicsList()\r\n    }, []);\r\n\r\n    const renderComics = (comicses) => {\r\n\r\n        const comicsList = comicses.map((item, i)=> {                    //получаем массив comics и перебираем \r\n            const {title, images, prices, id} = item;                    //деструктурируем данные из каждого item\r\n\r\n            return (\r\n                <CSSTransition\r\n                    classNames={'comics__item'}\r\n                    timeout={500}\r\n                    key={i}\r\n                    >\r\n                    <li className=\"comics__item\"\r\n                        key={i}                                          //в key порядковый номер, так как id повторяются\r\n                        >\r\n                        <Link to={`/comics/${id}`}>                          \r\n                            <img src={images} alt=\"ultimate war\" className=\"comics__item-img\"/>\r\n                            <div className=\"comics__item-name\">{title}</div>\r\n                            <div className=\"comics__item-price\">{prices ? prices + ' $' : null}</div>\r\n                        </Link>\r\n                    </li>\r\n                </CSSTransition>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <ul className=\"comics__grid\">\r\n                <TransitionGroup component={null}>\r\n                    {comicsList}\r\n                </TransitionGroup>\r\n            </ul>\r\n        )\r\n    };   \r\n\r\n    return (\r\n        <div className=\"comics__list\">\r\n            {setContent(process, ()=> renderComics(comics), newItemLoading)}\r\n            <button \r\n                onClick={() => onRequest(offset)}\r\n                disabled={newItemLoading}                                //отключаем копку во время подгрузки новых комиксов  \r\n                style={{'display': comicsEnded ? 'none': 'block'}}       //если массив комиксов меньше 8, скрываем кнопку\r\n                className=\"button button__main button__long\">\r\n                <div className=\"inner\">\r\n                    {newItemLoading ? 'Loading...' : 'load more'}        \r\n                </div>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ComicsList;","import Helmet from 'react-helmet';\r\nimport ErrorBoundary from \"../errorBoundary/ErrorBoundary\"\r\nimport ComicsList from \"../comicsList/ComicsList\";\r\nimport AppBanner from \"../appBanner/AppBanner\";\r\n\r\nconst ComicsPage = () => {\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <meta\r\n                    name=\"description\"\r\n                    content=\"Page with list of our comics\"\r\n                />\r\n                <title>Comics page</title>\r\n            </Helmet>\r\n            <ErrorBoundary>\r\n                <AppBanner />\r\n                <ComicsList />\r\n            </ErrorBoundary>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ComicsPage;"],"sourceRoot":""}